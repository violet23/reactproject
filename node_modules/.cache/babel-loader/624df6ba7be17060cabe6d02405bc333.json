{"ast":null,"code":"import _toConsumableArray from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectSpread from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/aishanliu/reactproject/src/Components/Search.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Config from '../Config';\n\nvar styles = function styles(theme) {\n  var _root;\n\n  return {\n    root: (_root = {\n      minWidth: 500\n    }, _defineProperty(_root, theme.breakpoints.down('sm'), {\n      minWidth: 300\n    }), _defineProperty(_root, theme.breakpoints.up('md'), {\n      minWidth: 500\n    }), _root),\n    input: {\n      display: 'flex',\n      padding: 11,\n      border: \"1px solid \".concat(theme.palette.primary[300])\n    },\n    valueContainer: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      flex: 1,\n      alignItems: 'center',\n      overflow: 'hidden'\n    },\n    noOptionsMessage: {\n      padding: \"\".concat(theme.spacing(2), \"px \").concat(theme.spacing(2), \"px\")\n    },\n    singleValue: {\n      fontSize: 16\n    },\n    placeholder: {\n      position: 'absolute',\n      left: 15,\n      fontSize: 16\n    },\n    paper: {\n      position: 'absolute',\n      zIndex: 999,\n      marginTop: theme.spacing(2),\n      left: 0,\n      right: 0\n    },\n    inputContainer: {\n      padding: '8px 0px 0px 0px'\n    }\n  };\n};\n\nfunction NoOptionsMessage(props) {\n  return React.createElement(Typography, Object.assign({\n    color: \"textSecondary\",\n    className: props.selectProps.classes.noOptionsMessage\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction inputComponent(_ref) {\n  var inputRef = _ref.inputRef,\n      props = _objectWithoutProperties(_ref, [\"inputRef\"]);\n\n  return React.createElement(\"div\", Object.assign({\n    ref: inputRef\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }));\n}\n\nfunction Control(props) {\n  return React.createElement(TextField, Object.assign({\n    fullWidth: true,\n    InputProps: {\n      inputComponent: inputComponent,\n      inputProps: _objectSpread({\n        className: props.selectProps.classes.input,\n        inputRef: props.innerRef,\n        children: props.children\n      }, props.innerProps)\n    }\n  }, props.selectProps.textFieldProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }));\n}\n\nfunction Option(props) {\n  return React.createElement(MenuItem, Object.assign({\n    buttonRef: props.innerRef,\n    selected: props.isFocused,\n    component: \"div\",\n    style: {\n      fontWeight: props.isSelected ? 500 : 400\n    }\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction Placeholder(props) {\n  return React.createElement(Typography, Object.assign({\n    color: \"textSecondary\",\n    className: props.selectProps.classes.placeholder\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction SingleValue(props) {\n  return React.createElement(Typography, Object.assign({\n    className: props.selectProps.classes.singleValue\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), props.children);\n}\n\nfunction ValueContainer(props) {\n  return React.createElement(\"div\", {\n    className: props.selectProps.classes.valueContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, props.children);\n}\n\nfunction Menu(props) {\n  return React.createElement(Paper, Object.assign({\n    square: true,\n    className: props.selectProps.classes.paper\n  }, props.innerProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }), props.children);\n}\n\nvar components = {\n  Control: Control,\n  Menu: Menu,\n  NoOptionsMessage: NoOptionsMessage,\n  Option: Option,\n  Placeholder: Placeholder,\n  SingleValue: SingleValue,\n  ValueContainer: ValueContainer\n};\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      single: \"\",\n      suggestions: []\n    };\n\n    _this.handleChange = function (name) {\n      return function (value) {\n        _this.setState(_defineProperty({}, name, value)); //Do nothing when the value is null\n\n\n        if (!value) {\n          console.log(value);\n        } else {\n          //console.log(this.props)\n          //window.location.assign(Config.settings.appURL + '/protein/' + value.label);\n          _this.props.history.replace({\n            pathname: '/protein/' + value.label\n          });\n        }\n      };\n    };\n\n    _this.handleBlur = function () {\n      _this.setState({\n        single: ''\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    // life-cycle methods\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // creating the url\n      var proteinURL = Config.settings.apiURL + Config.settings.proteinsEndpoint; // api call to retrieve all data\n\n      axios.get(proteinURL).then(function (res) {\n        // extract unique sample names\n        var unique = _toConsumableArray(new Set(res.data.proteins.map(function (protein) {\n          return protein.proteinName;\n        }))); // creating the suggestions on a sorted list\n\n\n        var suggestions = unique.sort().map(function (suggestion) {\n          return {\n            category: \"proteinName\",\n            value: suggestion,\n            label: suggestion\n          };\n        });\n\n        _this2.setState({\n          suggestions: suggestions\n        });\n      }); // Setting the title of the browser tab\n\n      document.title = \"YEP Topic Project\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          theme = _this$props.theme;\n      var suggestions = this.state.suggestions;\n      console.log(suggestions);\n      var selectStyles = {\n        input: function input(base) {\n          return _objectSpread({}, base, {\n            color: theme.palette.text.primary,\n            '& input': {\n              font: 'inherit'\n            },\n            padding: 4\n          });\n        }\n      };\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.inputContainer,\n        square: true,\n        elevation: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Select, {\n        classes: classes,\n        styles: selectStyles,\n        options: suggestions,\n        components: components,\n        value: this.state.single,\n        onChange: this.handleChange('single'),\n        onBlur: this.handleBlur,\n        placeholder: \"Search your protein\",\n        isClearable: true,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nSearch.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired\n};\nexport default withRouter(withStyles(styles, {\n  withTheme: true\n})(Search)); //export default withRouter(Search);","map":{"version":3,"sources":["/Users/aishanliu/reactproject/src/Components/Search.js"],"names":["React","axios","PropTypes","Select","withStyles","withRouter","Typography","NoSsr","TextField","Paper","MenuItem","Config","styles","theme","root","minWidth","breakpoints","down","up","input","display","padding","border","palette","primary","valueContainer","flexWrap","flex","alignItems","overflow","noOptionsMessage","spacing","singleValue","fontSize","placeholder","position","left","paper","zIndex","marginTop","right","inputContainer","NoOptionsMessage","props","selectProps","classes","innerProps","children","inputComponent","inputRef","Control","inputProps","className","innerRef","textFieldProps","Option","isFocused","fontWeight","isSelected","Placeholder","SingleValue","ValueContainer","Menu","components","Search","state","single","suggestions","handleChange","name","value","setState","console","log","history","replace","pathname","label","handleBlur","proteinURL","settings","apiURL","proteinsEndpoint","get","then","res","unique","Set","data","proteins","map","protein","proteinName","sort","suggestion","category","document","title","selectStyles","base","color","text","font","Component","propTypes","object","isRequired","withTheme"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withRouter} from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport Config from '../Config';\nconst styles = theme => ({\n  root: {     \n    minWidth: 500,\n    [theme.breakpoints.down('sm')]: {\n      minWidth: 300,\n    },\n    [theme.breakpoints.up('md')]: {\n      minWidth: 500,\n    },\n  },\n  input: {\n    display: 'flex',\n    padding: 11,\n    border: `1px solid ${theme.palette.primary[300]}`,    \n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  }, \n  noOptionsMessage: {\n    padding: `${theme.spacing(2)}px ${theme.spacing(2)}px`,\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 15,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 999,\n    marginTop: theme.spacing(2),\n    left: 0,\n    right: 0,\n  },\n  inputContainer:{\n    padding:'8px 0px 0px 0px',\n  }\n});\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props) {\n  return (\n      \n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: props.selectProps.classes.input,\n          inputRef: props.innerRef,\n          children: props.children,\n          ...props.innerProps,\n        },\n      }}\n      {...props.selectProps.textFieldProps}\n    />\n  );\n}\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      buttonRef={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >    \n      {props.children}\n    </MenuItem>\n  );\n}\n\nfunction Placeholder(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.placeholder}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nfunction Menu(props) {\n  return (\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n      {props.children}\n    </Paper>\n  );\n}\n\nconst components = {\n  Control,\n  Menu,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nclass Search extends React.Component {\n  state = {\n    single: \"\",\n    suggestions: []\n  };\n\n// life-cycle methods\ncomponentDidMount(){\n\n  // creating the url\n  let proteinURL = Config.settings.apiURL + Config.settings.proteinsEndpoint ;\n\n\n  // api call to retrieve all data\n  axios.get(proteinURL)\n      .then(res =>{\n                  \n          // extract unique sample names\n          const unique = [...new Set(res.data.proteins.map(protein => {\n            return protein.proteinName\n            } ))];\n         \n          // creating the suggestions on a sorted list\n          var suggestions = unique.sort().map(suggestion => ({\n            category: \"proteinName\",\n            value: suggestion,\n            label: suggestion,\n          }));\n          \n            this.setState({\n              suggestions: suggestions\n            });\n\n          });   \n      // Setting the title of the browser tab\n      document.title = \"YEP Topic Project\"\n}\n\n\n  handleChange = name => value => {\n    this.setState({\n        [name]: value,\n      });\n\n    //Do nothing when the value is null\n      if(!value){\n        console.log(value);\n      }\n      else{\n          //console.log(this.props)\n          //window.location.assign(Config.settings.appURL + '/protein/' + value.label);\n          this.props.history.replace({pathname:'/protein/'+ value.label})\n          \n          \n      }\n   \n  };\n\n  handleBlur = () => {\n    this.setState({\n        single: '',\n      });    \n  };\n\n  render() {\n    const { classes, theme} = this.props;\n    const {suggestions } = this.state;\n    console.log(suggestions)\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n        padding: 4\n      }),\n    };\n\n    return (\n      <div className={classes.root}>      \n        <Paper className={classes.inputContainer} square={true} elevation={1}> \n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={suggestions}\n            components={components}\n            value={this.state.single}\n            onChange={this.handleChange('single')}\n            onBlur={this.handleBlur}\n            placeholder=\"Search your protein\"\n            isClearable\n            autoFocus\n          />\n           </Paper>\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(Search));\n//export default withRouter(Search);"]},"metadata":{},"sourceType":"module"}