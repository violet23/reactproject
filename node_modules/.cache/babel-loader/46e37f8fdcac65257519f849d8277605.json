{"ast":null,"code":"import _classCallCheck from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/aishanliu/reactproject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/aishanliu/reactproject/src/Components/Search.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Autosuggest from 'react-autosuggest';\nimport { withStyles } from '@material-ui/core/styles';\nvar languages = [{\n  title: '1970s',\n  languages: [{\n    name: 'C',\n    year: 1972\n  }]\n}, {\n  title: '1980s',\n  languages: [{\n    name: 'C++',\n    year: 1983\n  }, {\n    name: 'Perl',\n    year: 1987\n  }]\n}, {\n  title: '1990s',\n  languages: [{\n    name: 'Haskell',\n    year: 1990\n  }, {\n    name: 'Python',\n    year: 1991\n  }, {\n    name: 'Java',\n    year: 1995\n  }, {\n    name: 'Javascript',\n    year: 1995\n  }, {\n    name: 'PHP',\n    year: 1995\n  }, {\n    name: 'Ruby',\n    year: 1995\n  }]\n}, {\n  title: '2000s',\n  languages: [{\n    name: 'C#',\n    year: 2000\n  }, {\n    name: 'Scala',\n    year: 2003\n  }, {\n    name: 'Clojure',\n    year: 2007\n  }, {\n    name: 'Go',\n    year: 2009\n  }]\n}, {\n  title: '2010s',\n  languages: [{\n    name: 'Elm',\n    year: 2012\n  }]\n}]; // https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\n\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction getSuggestions(value) {\n  var escapedValue = escapeRegexCharacters(value.trim());\n\n  if (escapedValue === '') {\n    return [];\n  }\n\n  var regex = new RegExp('^' + escapedValue, 'i');\n  return languages.map(function (section) {\n    return {\n      title: section.title,\n      languages: section.languages.filter(function (language) {\n        return regex.test(language.name);\n      })\n    };\n  }).filter(function (section) {\n    return section.languages.length > 0;\n  });\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.name;\n}\n\nfunction renderSuggestion(suggestion) {\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, suggestion.name);\n}\n\nfunction renderSectionTitle(section) {\n  return React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, section.title);\n}\n\nfunction getSectionSuggestions(section) {\n  return section.languages;\n}\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  function Search() {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this));\n\n    _this.onChange = function (event, _ref) {\n      var newValue = _ref.newValue,\n          method = _ref.method;\n\n      _this.setState({\n        value: newValue\n      });\n    };\n\n    _this.onSuggestionsFetchRequested = function (_ref2) {\n      var value = _ref2.value;\n\n      _this.setState({\n        suggestions: getSuggestions(value)\n      });\n    };\n\n    _this.onSuggestionsClearRequested = function () {\n      _this.setState({\n        suggestions: []\n      });\n    };\n\n    _this.state = {\n      value: '',\n      suggestions: []\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          value = _this$state.value,\n          suggestions = _this$state.suggestions;\n      var inputProps = {\n        placeholder: \"Type 'c'\",\n        value: value,\n        onChange: this.onChange\n      };\n      return React.createElement(Autosuggest, {\n        multiSection: true,\n        suggestions: suggestions,\n        onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n        onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n        getSuggestionValue: getSuggestionValue,\n        renderSuggestion: renderSuggestion,\n        renderSectionTitle: renderSectionTitle,\n        getSectionSuggestions: getSectionSuggestions,\n        inputProps: inputProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nSearch.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired\n};\nexport default withStyles(styles, {\n  withTheme: true\n})(Search);","map":{"version":3,"sources":["/Users/aishanliu/reactproject/src/Components/Search.js"],"names":["React","PropTypes","Autosuggest","withStyles","languages","title","name","year","escapeRegexCharacters","str","replace","getSuggestions","value","escapedValue","trim","regex","RegExp","map","section","filter","language","test","length","getSuggestionValue","suggestion","renderSuggestion","renderSectionTitle","getSectionSuggestions","Search","onChange","event","newValue","method","setState","onSuggestionsFetchRequested","suggestions","onSuggestionsClearRequested","state","inputProps","placeholder","Component","propTypes","classes","object","isRequired","theme","styles","withTheme"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Autosuggest from 'react-autosuggest';\nimport { withStyles } from '@material-ui/core/styles';\nconst languages = [\n    {\n      title: '1970s',\n      languages: [\n        {\n          name: 'C',\n          year: 1972\n        }\n      ]\n    },\n    {\n      title: '1980s',\n      languages: [\n        {\n          name: 'C++',\n          year: 1983\n        },\n        {\n          name: 'Perl',\n          year: 1987\n        }\n      ]\n    },\n    {\n      title: '1990s',\n      languages: [\n        {\n          name: 'Haskell',\n          year: 1990\n        },\n        {\n          name: 'Python',\n          year: 1991\n        },\n        {\n          name: 'Java',\n          year: 1995\n        },\n        {\n          name: 'Javascript',\n          year: 1995\n        },\n        {\n          name: 'PHP',\n          year: 1995\n        },\n        {\n          name: 'Ruby',\n          year: 1995\n        }\n      ]\n    },\n    {\n      title: '2000s',\n      languages: [\n        {\n          name: 'C#',\n          year: 2000\n        },\n        {\n          name: 'Scala',\n          year: 2003\n        },\n        {\n          name: 'Clojure',\n          year: 2007\n        },\n        {\n          name: 'Go',\n          year: 2009\n        }\n      ]\n    },\n    {\n      title: '2010s',\n      languages: [\n        {\n          name: 'Elm',\n          year: 2012\n        }\n      ]\n    }\n  ];\n  \n  // https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\n  function escapeRegexCharacters(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n  }\n  \n  function getSuggestions(value) {\n    const escapedValue = escapeRegexCharacters(value.trim());\n    \n    if (escapedValue === '') {\n      return [];\n    }\n  \n    const regex = new RegExp('^' + escapedValue, 'i');\n  \n    return languages\n      .map(section => {\n        return {\n          title: section.title,\n          languages: section.languages.filter(language => regex.test(language.name))\n        };\n      })\n      .filter(section => section.languages.length > 0);\n  }\n  \n  function getSuggestionValue(suggestion) {\n    return suggestion.name;\n  }\n  \n  function renderSuggestion(suggestion) {\n    return (\n      <span>{suggestion.name}</span>\n    );\n  }\n  \n  function renderSectionTitle(section) {\n    return (\n      <strong>{section.title}</strong>\n    );\n  }\n  \n  function getSectionSuggestions(section) {\n    return section.languages;\n  }\n  \n  class Search extends React.Component {\n    constructor() {\n      super();\n  \n      this.state = {\n        value: '',\n        suggestions: []\n      };    \n    }\n  \n    onChange = (event, { newValue, method }) => {\n      this.setState({\n        value: newValue\n      });\n    };\n    \n    onSuggestionsFetchRequested = ({ value }) => {\n      this.setState({\n        suggestions: getSuggestions(value)\n      });\n    };\n  \n    onSuggestionsClearRequested = () => {\n      this.setState({\n        suggestions: []\n      });\n    };\n  \n    render() {\n      const { value, suggestions } = this.state;\n      const inputProps = {\n        placeholder: \"Type 'c'\",\n        value,\n        onChange: this.onChange\n      };\n  \n      return (\n        <Autosuggest \n          multiSection={true}\n          suggestions={suggestions}\n          onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n          onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n          getSuggestionValue={getSuggestionValue}\n          renderSuggestion={renderSuggestion}\n          renderSectionTitle={renderSectionTitle}\n          getSectionSuggestions={getSectionSuggestions}\n          inputProps={inputProps} />\n      );\n    }\n  }\n  \n  Search.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired,\n  };\n  \n  export default withStyles(styles, { withTheme: true })(Search);\n  \n  "]},"metadata":{},"sourceType":"module"}